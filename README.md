# hvf_data_parser
Parses data from HVF Carl Zeiss optical machine thingy to CSV data for Excel-ing.

## Setup
    pipenv install -r requirements.txt
    pipenv shell

## Usage
 Simple usage to convert a single XML data file to CSV output.

    python hvf_to_csv.py ./<test_results>.xml

## About the data
The data tested is generated by a `Carl Zeiss Meditec 750` running `HFA2` Software version `4.2.2`. All test results for each patient are in one giant XML data blob.

    <?xml version="1.0" encoding="UTF-8"?>
    <HFA_EXPORT>
      <HFA_XML_VERSION>1.0</HFA_XML_VERSION>
      <HFA2_SOFTWARE_VERSION>4.2.2</HFA2_SOFTWARE_VERSION>
      <PATIENT>
        <LAST_NAME>KPC</LAST_NAME>
        <GIVEN_NAME/>
        <MIDDLE_NAME/>
        <NAME_PREFIX/>
        <NAME_SUFFIX/>
        <FULL_NAME>KPC</FULL_NAME>
        <PATIENT_ID>nnnnn-nnnn</PATIENT_ID>
        <BIRTH_DATE>nnnn-nn-nn</BIRTH_DATE>
        <STUDY>
          <VISIT_DATE>2020-01-07</VISIT_DATE>
          <SERIES>
            <SERIES_DATE_TIME>2020-01-7T16:18:51</SERIES_DATE_TIME>
            <MODALITY>HFA</MODALITY>
            <SITE>0</SITE>
            <INSTRUMENT>
              <INSTRUMENT_NAME>HFA</INSTRUMENT_NAME>
              <MANUFACTURER>Carl Zeiss Meditec</MANUFACTURER>
              <MODEL_NUMBER>750</MODEL_NUMBER>
              <SERIAL_NUMBER>xxxx</SERIAL_NUMBER>
              <SOFTWARE_VERSION>4.2.2</SOFTWARE_VERSION>
            </INSTRUMENT>
    ....
